<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="./CSS/index.css" rel="stylesheet">
    <link rel="manifest" href="./manifest.json">

    <title>Document</title>
</head>

<body>
    <p id="salut"></p>

    <div class="center-buttons">
        <a href="./HTMLs/workout.html">
            <button>Start Workout</button>
        </a>
        <a href="./HTMLs/history.html">
            <button>Previous Workouts</button>
        </a>
    </div>

    <div class="bottom-buttons">
        <a href="https://www.paypal.com/paypalme/SebastianBonea" style="text-decoration: none;">
            <button>Donate</button>
        </a>
        <a href="./HTMLs/reset.html">
        <button>
            Reset
        </button>
        </a>
        <a><button onclick="resetCache()">Reset Cache</button></a>
    </div>

    <script src="./JSs/index.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.register('./service-worker.js')
            .then(registration => {
              console.log('Service Worker registered with scope:', registration.scope);
            })
            .catch(error => {
              console.log('Service Worker registration failed:', error);
            });
        }
        window.onload = function() {
            const message = localStorage.getItem('resetMessage');
            if (message) {
                const salutElement = document.getElementById('salut');
                salutElement.textContent = message;
                setTimeout(function() {
                    salutElement.textContent = '';
                    localStorage.removeItem('resetMessage');
                }, 3000); // milliseconds
            }
        };
    </script>
</body>

</html>
